{"ast":null,"code":"'use strict';\n\nfunction propagate(events, source, dest) {\n  if (arguments.length < 3) {\n    dest = source;\n    source = events;\n    events = undefined;\n  }\n\n  // events should be an array or object\n  var eventsIsObject = typeof events === 'object';\n  if (events && !eventsIsObject) events = [events];\n  if (eventsIsObject) {\n    return explicitPropagate(events, source, dest);\n  }\n  var shouldPropagate = function shouldPropagate(eventName) {\n    return events === undefined || events.includes(eventName);\n  };\n  var oldEmit = source.emit;\n\n  // Returns true if the event had listeners, false otherwise.\n  // https://nodejs.org/api/events.html#events_emitter_emit_eventname_args\n  source.emit = function (eventName) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    var oldEmitHadListeners = oldEmit.call.apply(oldEmit, [source, eventName].concat(args));\n    var destEmitHadListeners = false;\n    if (shouldPropagate(eventName)) {\n      var _dest;\n      destEmitHadListeners = (_dest = dest).emit.apply(_dest, [eventName].concat(args));\n    }\n    return oldEmitHadListeners || destEmitHadListeners;\n  };\n  function end() {\n    source.emit = oldEmit;\n  }\n  return {\n    end: end\n  };\n}\nmodule.exports = propagate;\nfunction explicitPropagate(events, source, dest) {\n  var eventsIn;\n  var eventsOut;\n  if (Array.isArray(events)) {\n    eventsIn = events;\n    eventsOut = events;\n  } else {\n    eventsIn = Object.keys(events);\n    eventsOut = eventsIn.map(function (key) {\n      return events[key];\n    });\n  }\n  var listeners = eventsOut.map(function (event) {\n    return function () {\n      var args = Array.prototype.slice.call(arguments);\n      args.unshift(event);\n      dest.emit.apply(dest, args);\n    };\n  });\n  listeners.forEach(register);\n  return {\n    end: end\n  };\n  function register(listener, i) {\n    source.on(eventsIn[i], listener);\n  }\n  function unregister(listener, i) {\n    source.removeListener(eventsIn[i], listener);\n  }\n  function end() {\n    listeners.forEach(unregister);\n  }\n}","map":{"version":3,"names":["propagate","events","source","dest","arguments","length","undefined","eventsIsObject","explicitPropagate","shouldPropagate","eventName","includes","oldEmit","emit","_len","args","Array","_key","oldEmitHadListeners","call","apply","concat","destEmitHadListeners","_dest","end","module","exports","eventsIn","eventsOut","isArray","Object","keys","map","key","listeners","event","prototype","slice","unshift","forEach","register","listener","i","on","unregister","removeListener"],"sources":["/Users/aribraun/Desktop/db-import/node_modules/propagate/index.js"],"sourcesContent":["'use strict'\n\nfunction propagate(events, source, dest) {\n  if (arguments.length < 3) {\n    dest = source\n    source = events\n    events = undefined\n  }\n\n  // events should be an array or object\n  const eventsIsObject = typeof events === 'object'\n  if (events && !eventsIsObject) events = [events]\n\n  if (eventsIsObject) {\n    return explicitPropagate(events, source, dest)\n  }\n\n  const shouldPropagate = eventName =>\n    events === undefined || events.includes(eventName)\n\n  const oldEmit = source.emit\n\n  // Returns true if the event had listeners, false otherwise.\n  // https://nodejs.org/api/events.html#events_emitter_emit_eventname_args\n  source.emit = (eventName, ...args) => {\n    const oldEmitHadListeners = oldEmit.call(source, eventName, ...args)\n\n    let destEmitHadListeners = false\n    if (shouldPropagate(eventName)) {\n      destEmitHadListeners = dest.emit(eventName, ...args)\n    }\n\n    return oldEmitHadListeners || destEmitHadListeners\n  }\n\n  function end() {\n    source.emit = oldEmit\n  }\n\n  return {\n    end,\n  }\n}\n\nmodule.exports = propagate\n\nfunction explicitPropagate(events, source, dest) {\n  let eventsIn\n  let eventsOut\n  if (Array.isArray(events)) {\n    eventsIn = events\n    eventsOut = events\n  } else {\n    eventsIn = Object.keys(events)\n    eventsOut = eventsIn.map(function(key) {\n      return events[key]\n    })\n  }\n\n  const listeners = eventsOut.map(function(event) {\n    return function() {\n      const args = Array.prototype.slice.call(arguments)\n      args.unshift(event)\n      dest.emit.apply(dest, args)\n    }\n  })\n\n  listeners.forEach(register)\n\n  return {\n    end,\n  }\n\n  function register(listener, i) {\n    source.on(eventsIn[i], listener)\n  }\n\n  function unregister(listener, i) {\n    source.removeListener(eventsIn[i], listener)\n  }\n\n  function end() {\n    listeners.forEach(unregister)\n  }\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,SAASA,SAASA,CAACC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAE;EACvC,IAAIC,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;IACxBF,IAAI,GAAGD,MAAM;IACbA,MAAM,GAAGD,MAAM;IACfA,MAAM,GAAGK,SAAS;EACpB;;EAEA;EACA,IAAMC,cAAc,GAAG,OAAON,MAAM,KAAK,QAAQ;EACjD,IAAIA,MAAM,IAAI,CAACM,cAAc,EAAEN,MAAM,GAAG,CAACA,MAAM,CAAC;EAEhD,IAAIM,cAAc,EAAE;IAClB,OAAOC,iBAAiB,CAACP,MAAM,EAAEC,MAAM,EAAEC,IAAI,CAAC;EAChD;EAEA,IAAMM,eAAe,GAAG,SAAlBA,eAAeA,CAAGC,SAAS;IAAA,OAC/BT,MAAM,KAAKK,SAAS,IAAIL,MAAM,CAACU,QAAQ,CAACD,SAAS,CAAC;EAAA;EAEpD,IAAME,OAAO,GAAGV,MAAM,CAACW,IAAI;;EAE3B;EACA;EACAX,MAAM,CAACW,IAAI,GAAG,UAACH,SAAS,EAAc;IAAA,SAAAI,IAAA,GAAAV,SAAA,CAAAC,MAAA,EAATU,IAAI,OAAAC,KAAA,CAAAF,IAAA,OAAAA,IAAA,WAAAG,IAAA,MAAAA,IAAA,GAAAH,IAAA,EAAAG,IAAA;MAAJF,IAAI,CAAAE,IAAA,QAAAb,SAAA,CAAAa,IAAA;IAAA;IAC/B,IAAMC,mBAAmB,GAAGN,OAAO,CAACO,IAAI,CAAAC,KAAA,CAAZR,OAAO,GAAMV,MAAM,EAAEQ,SAAS,EAAAW,MAAA,CAAKN,IAAI,EAAC;IAEpE,IAAIO,oBAAoB,GAAG,KAAK;IAChC,IAAIb,eAAe,CAACC,SAAS,CAAC,EAAE;MAAA,IAAAa,KAAA;MAC9BD,oBAAoB,GAAG,CAAAC,KAAA,GAAApB,IAAI,EAACU,IAAI,CAAAO,KAAA,CAAAG,KAAA,GAACb,SAAS,EAAAW,MAAA,CAAKN,IAAI,EAAC;IACtD;IAEA,OAAOG,mBAAmB,IAAII,oBAAoB;EACpD,CAAC;EAED,SAASE,GAAGA,CAAA,EAAG;IACbtB,MAAM,CAACW,IAAI,GAAGD,OAAO;EACvB;EAEA,OAAO;IACLY,GAAG,EAAHA;EACF,CAAC;AACH;AAEAC,MAAM,CAACC,OAAO,GAAG1B,SAAS;AAE1B,SAASQ,iBAAiBA,CAACP,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAE;EAC/C,IAAIwB,QAAQ;EACZ,IAAIC,SAAS;EACb,IAAIZ,KAAK,CAACa,OAAO,CAAC5B,MAAM,CAAC,EAAE;IACzB0B,QAAQ,GAAG1B,MAAM;IACjB2B,SAAS,GAAG3B,MAAM;EACpB,CAAC,MAAM;IACL0B,QAAQ,GAAGG,MAAM,CAACC,IAAI,CAAC9B,MAAM,CAAC;IAC9B2B,SAAS,GAAGD,QAAQ,CAACK,GAAG,CAAC,UAASC,GAAG,EAAE;MACrC,OAAOhC,MAAM,CAACgC,GAAG,CAAC;IACpB,CAAC,CAAC;EACJ;EAEA,IAAMC,SAAS,GAAGN,SAAS,CAACI,GAAG,CAAC,UAASG,KAAK,EAAE;IAC9C,OAAO,YAAW;MAChB,IAAMpB,IAAI,GAAGC,KAAK,CAACoB,SAAS,CAACC,KAAK,CAAClB,IAAI,CAACf,SAAS,CAAC;MAClDW,IAAI,CAACuB,OAAO,CAACH,KAAK,CAAC;MACnBhC,IAAI,CAACU,IAAI,CAACO,KAAK,CAACjB,IAAI,EAAEY,IAAI,CAAC;IAC7B,CAAC;EACH,CAAC,CAAC;EAEFmB,SAAS,CAACK,OAAO,CAACC,QAAQ,CAAC;EAE3B,OAAO;IACLhB,GAAG,EAAHA;EACF,CAAC;EAED,SAASgB,QAAQA,CAACC,QAAQ,EAAEC,CAAC,EAAE;IAC7BxC,MAAM,CAACyC,EAAE,CAAChB,QAAQ,CAACe,CAAC,CAAC,EAAED,QAAQ,CAAC;EAClC;EAEA,SAASG,UAAUA,CAACH,QAAQ,EAAEC,CAAC,EAAE;IAC/BxC,MAAM,CAAC2C,cAAc,CAAClB,QAAQ,CAACe,CAAC,CAAC,EAAED,QAAQ,CAAC;EAC9C;EAEA,SAASjB,GAAGA,CAAA,EAAG;IACbU,SAAS,CAACK,OAAO,CAACK,UAAU,CAAC;EAC/B;AACF"},"metadata":{},"sourceType":"script"}