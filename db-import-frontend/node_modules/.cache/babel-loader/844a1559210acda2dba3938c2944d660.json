{"ast":null,"code":"\"use strict\";\n\nvar _inherits = require(\"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar _classCallCheck = require(\"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _require = require(\"./utils\"),\n  classToInvokable = _require.classToInvokable;\nvar ABSTRACT = /*#__PURE__*/function () {\n  function ABSTRACT() {\n    _classCallCheck(this, ABSTRACT);\n  }\n  _createClass(ABSTRACT, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.toSql.apply(this, arguments);\n    }\n  }, {\n    key: \"toSql\",\n    value: function toSql() {\n      throw new Error(\"toSql implementation missing\");\n    }\n  }], [{\n    key: \"toString\",\n    value: function toString() {\n      var _this;\n      return (_this = new this()).toString.apply(_this, arguments);\n    }\n  }]);\n  return ABSTRACT;\n}();\nvar INITIALLY_DEFERRED = /*#__PURE__*/function (_ABSTRACT) {\n  _inherits(INITIALLY_DEFERRED, _ABSTRACT);\n  var _super = _createSuper(INITIALLY_DEFERRED);\n  function INITIALLY_DEFERRED() {\n    _classCallCheck(this, INITIALLY_DEFERRED);\n    return _super.apply(this, arguments);\n  }\n  _createClass(INITIALLY_DEFERRED, [{\n    key: \"toSql\",\n    value: function toSql() {\n      return \"DEFERRABLE INITIALLY DEFERRED\";\n    }\n  }]);\n  return INITIALLY_DEFERRED;\n}(ABSTRACT);\nvar INITIALLY_IMMEDIATE = /*#__PURE__*/function (_ABSTRACT2) {\n  _inherits(INITIALLY_IMMEDIATE, _ABSTRACT2);\n  var _super2 = _createSuper(INITIALLY_IMMEDIATE);\n  function INITIALLY_IMMEDIATE() {\n    _classCallCheck(this, INITIALLY_IMMEDIATE);\n    return _super2.apply(this, arguments);\n  }\n  _createClass(INITIALLY_IMMEDIATE, [{\n    key: \"toSql\",\n    value: function toSql() {\n      return \"DEFERRABLE INITIALLY IMMEDIATE\";\n    }\n  }]);\n  return INITIALLY_IMMEDIATE;\n}(ABSTRACT);\nvar NOT = /*#__PURE__*/function (_ABSTRACT3) {\n  _inherits(NOT, _ABSTRACT3);\n  var _super3 = _createSuper(NOT);\n  function NOT() {\n    _classCallCheck(this, NOT);\n    return _super3.apply(this, arguments);\n  }\n  _createClass(NOT, [{\n    key: \"toSql\",\n    value: function toSql() {\n      return \"NOT DEFERRABLE\";\n    }\n  }]);\n  return NOT;\n}(ABSTRACT);\nvar SET_DEFERRED = /*#__PURE__*/function (_ABSTRACT4) {\n  _inherits(SET_DEFERRED, _ABSTRACT4);\n  var _super4 = _createSuper(SET_DEFERRED);\n  function SET_DEFERRED(constraints) {\n    var _this2;\n    _classCallCheck(this, SET_DEFERRED);\n    _this2 = _super4.call(this);\n    _this2.constraints = constraints;\n    return _this2;\n  }\n  _createClass(SET_DEFERRED, [{\n    key: \"toSql\",\n    value: function toSql(queryGenerator) {\n      return queryGenerator.setDeferredQuery(this.constraints);\n    }\n  }]);\n  return SET_DEFERRED;\n}(ABSTRACT);\nvar SET_IMMEDIATE = /*#__PURE__*/function (_ABSTRACT5) {\n  _inherits(SET_IMMEDIATE, _ABSTRACT5);\n  var _super5 = _createSuper(SET_IMMEDIATE);\n  function SET_IMMEDIATE(constraints) {\n    var _this3;\n    _classCallCheck(this, SET_IMMEDIATE);\n    _this3 = _super5.call(this);\n    _this3.constraints = constraints;\n    return _this3;\n  }\n  _createClass(SET_IMMEDIATE, [{\n    key: \"toSql\",\n    value: function toSql(queryGenerator) {\n      return queryGenerator.setImmediateQuery(this.constraints);\n    }\n  }]);\n  return SET_IMMEDIATE;\n}(ABSTRACT);\nvar Deferrable = {\n  INITIALLY_DEFERRED: classToInvokable(INITIALLY_DEFERRED),\n  INITIALLY_IMMEDIATE: classToInvokable(INITIALLY_IMMEDIATE),\n  NOT: classToInvokable(NOT),\n  SET_DEFERRED: classToInvokable(SET_DEFERRED),\n  SET_IMMEDIATE: classToInvokable(SET_IMMEDIATE)\n};\nmodule.exports = Deferrable;","map":{"version":3,"names":["_require","require","classToInvokable","ABSTRACT","_classCallCheck","_createClass","key","value","toString","toSql","apply","arguments","Error","_this","INITIALLY_DEFERRED","_ABSTRACT","_inherits","_super","_createSuper","INITIALLY_IMMEDIATE","_ABSTRACT2","_super2","NOT","_ABSTRACT3","_super3","SET_DEFERRED","_ABSTRACT4","_super4","constraints","_this2","call","queryGenerator","setDeferredQuery","SET_IMMEDIATE","_ABSTRACT5","_super5","_this3","setImmediateQuery","Deferrable","module","exports"],"sources":["../src/deferrable.js"],"sourcesContent":["'use strict';\n\nconst { classToInvokable } = require('./utils');\n\nclass ABSTRACT {\n  static toString(...args) {\n    return new this().toString(...args);\n  }\n\n  toString(...args) {\n    return this.toSql(...args);\n  }\n\n  toSql() {\n    throw new Error('toSql implementation missing');\n  }\n}\n\nclass INITIALLY_DEFERRED extends ABSTRACT {\n  toSql() {\n    return 'DEFERRABLE INITIALLY DEFERRED';\n  }\n}\n\nclass INITIALLY_IMMEDIATE extends ABSTRACT {\n  toSql() {\n    return 'DEFERRABLE INITIALLY IMMEDIATE';\n  }\n}\n\nclass NOT extends ABSTRACT {\n  toSql() {\n    return 'NOT DEFERRABLE';\n  }\n}\n\nclass SET_DEFERRED extends ABSTRACT {\n  constructor(constraints) {\n    super();\n    this.constraints = constraints;\n  }\n\n  toSql(queryGenerator) {\n    return queryGenerator.setDeferredQuery(this.constraints);\n  }\n}\n\nclass SET_IMMEDIATE extends ABSTRACT {\n  constructor(constraints) {\n    super();\n    this.constraints = constraints;\n  }\n\n  toSql(queryGenerator) {\n    return queryGenerator.setImmediateQuery(this.constraints);\n  }\n}\n\n/**\n * A collection of properties related to deferrable constraints. It can be used to\n * make foreign key constraints deferrable and to set the constraints within a\n * transaction. This is only supported in PostgreSQL.\n *\n * The foreign keys can be configured like this. It will create a foreign key\n * that will check the constraints immediately when the data was inserted.\n *\n * ```js\n * sequelize.define('Model', {\n *   foreign_id: {\n *     type: Sequelize.INTEGER,\n *     references: {\n *       model: OtherModel,\n *       key: 'id',\n *       deferrable: Sequelize.Deferrable.INITIALLY_IMMEDIATE\n *     }\n *   }\n * });\n * ```\n *\n * The constraints can be configured in a transaction like this. It will\n * trigger a query once the transaction has been started and set the constraints\n * to be checked at the very end of the transaction.\n *\n * ```js\n * sequelize.transaction({\n *   deferrable: Sequelize.Deferrable.SET_DEFERRED\n * });\n * ```\n *\n * @property INITIALLY_DEFERRED    Use when declaring a constraint. Allow and enable by default this constraint's checks to be deferred at the end of transactions.\n * @property INITIALLY_IMMEDIATE   Use when declaring a constraint. Allow the constraint's checks to be deferred at the end of transactions.\n * @property NOT                   Use when declaring a constraint. Set the constraint to not deferred. This is the default in PostgreSQL and makes it impossible to dynamically defer the constraints within a transaction.\n * @property SET_DEFERRED          Use when declaring a transaction. Defer the deferrable checks involved in this transaction at commit.\n * @property SET_IMMEDIATE         Use when declaring a transaction. Execute the deferrable checks involved in this transaction immediately.\n */\n\nconst Deferrable = {\n  INITIALLY_DEFERRED: classToInvokable(INITIALLY_DEFERRED),\n  INITIALLY_IMMEDIATE: classToInvokable(INITIALLY_IMMEDIATE),\n  NOT: classToInvokable(NOT),\n  SET_DEFERRED: classToInvokable(SET_DEFERRED),\n  SET_IMMEDIATE: classToInvokable(SET_IMMEDIATE)\n};\n\nmodule.exports = Deferrable;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}