{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Deferred = void 0;\nvar TimeoutError_1 = require(\"./TimeoutError\");\nvar Deferred = /*#__PURE__*/function () {\n  function Deferred() {\n    var _this = this;\n    _classCallCheck(this, Deferred);\n    this._promise = new Promise(function (resolve, reject) {\n      _this._reject = reject;\n      _this._resolve = resolve;\n    });\n  }\n  _createClass(Deferred, [{\n    key: \"registerTimeout\",\n    value: function registerTimeout(timeoutInMillis, callback) {\n      var _this2 = this;\n      if (this._timeout) return;\n      this._timeout = setTimeout(function () {\n        callback();\n        _this2.reject(new TimeoutError_1.TimeoutError('Operation timeout'));\n      }, timeoutInMillis);\n    }\n  }, {\n    key: \"_clearTimeout\",\n    value: function _clearTimeout() {\n      if (!this._timeout) return;\n      clearTimeout(this._timeout);\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(value) {\n      this._clearTimeout();\n      this._resolve(value);\n    }\n  }, {\n    key: \"reject\",\n    value: function reject(error) {\n      this._clearTimeout();\n      this._reject(error);\n    }\n  }, {\n    key: \"promise\",\n    value: function promise() {\n      return this._promise;\n    }\n  }]);\n  return Deferred;\n}();\nexports.Deferred = Deferred;","map":{"version":3,"names":["TimeoutError_1","require","Deferred","_this","_classCallCheck","_promise","Promise","resolve","reject","_reject","_resolve","_createClass","key","value","registerTimeout","timeoutInMillis","callback","_this2","_timeout","setTimeout","TimeoutError","_clearTimeout","clearTimeout","error","promise","exports"],"sources":["../src/Deferred.ts"],"sourcesContent":[null],"mappings":";;;;;;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AAA8C,IAOjCC,QAAQ;EAMnB,SAAAA,SAAA;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAF,QAAA;IACE,IAAI,CAACG,QAAQ,GAAG,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAI;MAC9CL,KAAI,CAACM,OAAO,GAAGD,MAAM;MACrBL,KAAI,CAACO,QAAQ,GAAGH,OAAO;IACzB,CAAC,CAAC;EACJ;EAACI,YAAA,CAAAT,QAAA;IAAAU,GAAA;IAAAC,KAAA,EAED,SAAAC,gBAAgBC,eAAuB,EAAEC,QAAkB;MAAA,IAAAC,MAAA;MACzD,IAAI,IAAI,CAACC,QAAQ,EAAE;MAEnB,IAAI,CAACA,QAAQ,GAAGC,UAAU,CAAC,YAAK;QAC9BH,QAAQ,EAAE;QACVC,MAAI,CAACT,MAAM,CAAC,IAAIR,cAAA,CAAAoB,YAAY,CAAC,mBAAmB,CAAC,CAAC;MACpD,CAAC,EAAEL,eAAe,CAAC;IACrB;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAES,SAAAQ,cAAA,EAAa;MACrB,IAAI,CAAC,IAAI,CAACH,QAAQ,EAAE;MACpBI,YAAY,CAAC,IAAI,CAACJ,QAAQ,CAAC;IAC7B;EAAC;IAAAN,GAAA;IAAAC,KAAA,EAED,SAAAN,QAAQM,KAAQ;MACd,IAAI,CAACQ,aAAa,EAAE;MACpB,IAAI,CAACX,QAAQ,CAACG,KAAK,CAAC;IACtB;EAAC;IAAAD,GAAA;IAAAC,KAAA,EAED,SAAAL,OAAOe,KAAY;MACjB,IAAI,CAACF,aAAa,EAAE;MACpB,IAAI,CAACZ,OAAO,CAACc,KAAK,CAAC;IACrB;EAAC;IAAAX,GAAA;IAAAC,KAAA,EAED,SAAAW,QAAA,EAAO;MACL,OAAO,IAAI,CAACnB,QAAQ;IACtB;EAAC;EAAA,OAAAH,QAAA;AAAA;AAvCHuB,OAAA,CAAAvB,QAAA,GAAAA,QAAA"},"metadata":{},"sourceType":"script"}