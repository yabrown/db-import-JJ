{"ast":null,"code":"'use strict';\n\nvar fs = require('@npmcli/fs');\nvar fixOwner = require('./fix-owner');\nvar path = require('path');\nmodule.exports.mkdir = mktmpdir;\nfunction mktmpdir(cache) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var tmpPrefix = opts.tmpPrefix;\n  var tmpDir = path.join(cache, 'tmp');\n  return fs.mkdir(tmpDir, {\n    recursive: true,\n    owner: 'inherit'\n  }).then(function () {\n    // do not use path.join(), it drops the trailing / if tmpPrefix is unset\n    var target = \"\".concat(tmpDir).concat(path.sep).concat(tmpPrefix || '');\n    return fs.mkdtemp(target, {\n      owner: 'inherit'\n    });\n  });\n}\nmodule.exports.withTmp = withTmp;\nfunction withTmp(cache, opts, cb) {\n  if (!cb) {\n    cb = opts;\n    opts = {};\n  }\n  return fs.withTempDir(path.join(cache, 'tmp'), cb, opts);\n}\nmodule.exports.fix = fixtmpdir;\nfunction fixtmpdir(cache) {\n  return fixOwner(cache, path.join(cache, 'tmp'));\n}","map":{"version":3,"names":["fs","require","fixOwner","path","module","exports","mkdir","mktmpdir","cache","opts","arguments","length","undefined","tmpPrefix","tmpDir","join","recursive","owner","then","target","concat","sep","mkdtemp","withTmp","cb","withTempDir","fix","fixtmpdir"],"sources":["/Users/aribraun/Desktop/db-import/node_modules/cacache/lib/util/tmp.js"],"sourcesContent":["'use strict'\n\nconst fs = require('@npmcli/fs')\n\nconst fixOwner = require('./fix-owner')\nconst path = require('path')\n\nmodule.exports.mkdir = mktmpdir\n\nfunction mktmpdir (cache, opts = {}) {\n  const { tmpPrefix } = opts\n  const tmpDir = path.join(cache, 'tmp')\n  return fs.mkdir(tmpDir, { recursive: true, owner: 'inherit' })\n    .then(() => {\n      // do not use path.join(), it drops the trailing / if tmpPrefix is unset\n      const target = `${tmpDir}${path.sep}${tmpPrefix || ''}`\n      return fs.mkdtemp(target, { owner: 'inherit' })\n    })\n}\n\nmodule.exports.withTmp = withTmp\n\nfunction withTmp (cache, opts, cb) {\n  if (!cb) {\n    cb = opts\n    opts = {}\n  }\n  return fs.withTempDir(path.join(cache, 'tmp'), cb, opts)\n}\n\nmodule.exports.fix = fixtmpdir\n\nfunction fixtmpdir (cache) {\n  return fixOwner(cache, path.join(cache, 'tmp'))\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAMA,EAAE,GAAGC,OAAO,CAAC,YAAY,CAAC;AAEhC,IAAMC,QAAQ,GAAGD,OAAO,CAAC,aAAa,CAAC;AACvC,IAAME,IAAI,GAAGF,OAAO,CAAC,MAAM,CAAC;AAE5BG,MAAM,CAACC,OAAO,CAACC,KAAK,GAAGC,QAAQ;AAE/B,SAASA,QAAQA,CAAEC,KAAK,EAAa;EAAA,IAAXC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACjC,IAAQG,SAAS,GAAKJ,IAAI,CAAlBI,SAAS;EACjB,IAAMC,MAAM,GAAGX,IAAI,CAACY,IAAI,CAACP,KAAK,EAAE,KAAK,CAAC;EACtC,OAAOR,EAAE,CAACM,KAAK,CAACQ,MAAM,EAAE;IAAEE,SAAS,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAU,CAAC,CAAC,CAC3DC,IAAI,CAAC,YAAM;IACV;IACA,IAAMC,MAAM,MAAAC,MAAA,CAAMN,MAAM,EAAAM,MAAA,CAAGjB,IAAI,CAACkB,GAAG,EAAAD,MAAA,CAAGP,SAAS,IAAI,EAAE,CAAE;IACvD,OAAOb,EAAE,CAACsB,OAAO,CAACH,MAAM,EAAE;MAAEF,KAAK,EAAE;IAAU,CAAC,CAAC;EACjD,CAAC,CAAC;AACN;AAEAb,MAAM,CAACC,OAAO,CAACkB,OAAO,GAAGA,OAAO;AAEhC,SAASA,OAAOA,CAAEf,KAAK,EAAEC,IAAI,EAAEe,EAAE,EAAE;EACjC,IAAI,CAACA,EAAE,EAAE;IACPA,EAAE,GAAGf,IAAI;IACTA,IAAI,GAAG,CAAC,CAAC;EACX;EACA,OAAOT,EAAE,CAACyB,WAAW,CAACtB,IAAI,CAACY,IAAI,CAACP,KAAK,EAAE,KAAK,CAAC,EAAEgB,EAAE,EAAEf,IAAI,CAAC;AAC1D;AAEAL,MAAM,CAACC,OAAO,CAACqB,GAAG,GAAGC,SAAS;AAE9B,SAASA,SAASA,CAAEnB,KAAK,EAAE;EACzB,OAAON,QAAQ,CAACM,KAAK,EAAEL,IAAI,CAACY,IAAI,CAACP,KAAK,EAAE,KAAK,CAAC,CAAC;AACjD"},"metadata":{},"sourceType":"script"}