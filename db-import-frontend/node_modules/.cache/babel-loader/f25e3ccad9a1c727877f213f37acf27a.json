{"ast":null,"code":"import _regeneratorRuntime from \"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Sequelize, Model, DataTypes } from 'sequelize';\nvar PORT = 'http://localhost:3000';\nvar SOCKETPORT = 'ws://localhost:3000';\nfunction basicGet(_x, _x2, _x3) {\n  return _basicGet.apply(this, arguments);\n}\nfunction _basicGet() {\n  _basicGet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(link, DBName, force) {\n    var res, body;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return fetch(PORT, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              link: link,\n              DBName: DBName,\n              force: force\n            })\n          });\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return res.json();\n        case 5:\n          body = _context.sent;\n          return _context.abrupt(\"return\", [res.status, body.message]);\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _basicGet.apply(this, arguments);\n}\nfunction basicSocket(_x4, _x5) {\n  return _basicSocket.apply(this, arguments);\n}\nfunction _basicSocket() {\n  _basicSocket = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(link, DBName) {\n    var socket;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          socket = new WebSocket(SOCKETPORT);\n          socket.onopen = function () {\n            console.log('WebSocket connection established');\n            var payload = {\n              link: link,\n              DBName: DBName\n            };\n            socket.send(JSON.stringify(payload));\n          };\n          socket.onmessage = function (event) {\n            var text = JSON.parse(event.data);\n            console.log(text);\n            console.log('word');\n          };\n          socket.onclose = function () {\n            console.log('WebSocket connection closed');\n          };\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _basicSocket.apply(this, arguments);\n}\nexport { basicGet, basicSocket };","map":{"version":3,"names":["Sequelize","Model","DataTypes","PORT","SOCKETPORT","basicGet","_x","_x2","_x3","_basicGet","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","link","DBName","force","res","body","wrap","_callee$","_context","prev","next","fetch","method","headers","JSON","stringify","sent","json","abrupt","status","message","stop","basicSocket","_x4","_x5","_basicSocket","_callee2","socket","_callee2$","_context2","WebSocket","onopen","console","log","payload","send","onmessage","event","text","parse","data","onclose"],"sources":["/Users/aribraun/Desktop/db-import/db-import-frontend/src/backend.js"],"sourcesContent":["\nimport { Sequelize, Model, DataTypes } from 'sequelize';\n\nconst PORT = 'http://localhost:3000'\nconst SOCKETPORT = 'ws://localhost:3000'\n\n\n\nasync function basicGet(link, DBName, force){\n    const res = await fetch(PORT, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n          },\n        body: JSON.stringify({link: link, DBName: DBName, force: force})\n    }\n    );\n    const body = await res.json()\n    return [res.status, body.message];\n}\n\n\nasync function basicSocket(link, DBName){\n    const socket = new WebSocket(SOCKETPORT);\n\n    socket.onopen = () => {\n        console.log('WebSocket connection established');\n\n        const payload = { link, DBName};\n\n        socket.send(JSON.stringify(payload));\n    };\n\n    socket.onmessage = (event) => {\n        const text = JSON.parse(event.data);\n        console.log(text);\n        console.log('word');\n    };\n\n    socket.onclose = () => {\n        console.log('WebSocket connection closed');\n    };\n}\n\n\nexport {\n    basicGet,\n    basicSocket\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}