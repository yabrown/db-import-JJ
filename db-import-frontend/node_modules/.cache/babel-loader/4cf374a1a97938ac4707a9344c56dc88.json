{"ast":null,"code":"import _regeneratorRuntime from \"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/aribraun/Desktop/db-import/db-import-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Sequelize, Model, DataTypes } from 'sequelize';\nvar PORT = 'https://jj-table-importer.onrender.com/';\nvar SOCKETPORT = 'ws://localhost:3000';\nfunction basicGet(_x, _x2, _x3) {\n  return _basicGet.apply(this, arguments);\n}\nfunction _basicGet() {\n  _basicGet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(link, DBName, force) {\n    var res, body;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return fetch(PORT, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              link: link,\n              DBName: DBName,\n              force: force\n            })\n          });\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return res.json();\n        case 5:\n          body = _context.sent;\n          console.log(res);\n          return _context.abrupt(\"return\", [res, body.message]);\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _basicGet.apply(this, arguments);\n}\nfunction basicSocket(_x4, _x5) {\n  return _basicSocket.apply(this, arguments);\n}\nfunction _basicSocket() {\n  _basicSocket = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(link, DBName) {\n    var socket;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          socket = new WebSocket(SOCKETPORT);\n          socket.onopen = function () {\n            console.log('WebSocket connection established');\n            var payload = {\n              link: link,\n              DBName: DBName\n            };\n            socket.send(JSON.stringify(payload));\n          };\n          socket.onmessage = function (event) {\n            var text = JSON.parse(event.data);\n            console.log(text);\n            console.log('word');\n          };\n          socket.onclose = function () {\n            console.log('WebSocket connection closed');\n          };\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _basicSocket.apply(this, arguments);\n}\nexport { basicGet, basicSocket };","map":{"version":3,"names":["Sequelize","Model","DataTypes","PORT","SOCKETPORT","basicGet","_x","_x2","_x3","_basicGet","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","link","DBName","force","res","body","wrap","_callee$","_context","prev","next","fetch","method","headers","JSON","stringify","sent","json","console","log","abrupt","message","stop","basicSocket","_x4","_x5","_basicSocket","_callee2","socket","_callee2$","_context2","WebSocket","onopen","payload","send","onmessage","event","text","parse","data","onclose"],"sources":["/Users/aribraun/Desktop/db-import/db-import-frontend/src/backend.js"],"sourcesContent":["\nimport { Sequelize, Model, DataTypes } from 'sequelize';\n\nconst PORT = 'https://jj-table-importer.onrender.com/'\nconst SOCKETPORT = 'ws://localhost:3000'\n\n\n\nasync function basicGet(link, DBName, force){\n    const res = await fetch(PORT, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n          },\n        body: JSON.stringify({link: link, DBName: DBName, force: force})\n    }\n    );\n    const body = await res.json()\n    console.log(res);\n    return [res, body.message];\n}\n\n\nasync function basicSocket(link, DBName){\n    const socket = new WebSocket(SOCKETPORT);\n\n    socket.onopen = () => {\n        console.log('WebSocket connection established');\n\n        const payload = { link, DBName};\n\n        socket.send(JSON.stringify(payload));\n    };\n\n    socket.onmessage = (event) => {\n        const text = JSON.parse(event.data);\n        console.log(text);\n        console.log('word');\n    };\n\n    socket.onclose = () => {\n        console.log('WebSocket connection closed');\n    };\n}\n\n\nexport {\n    basicGet,\n    basicSocket\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}