{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/Users/aribraun/Desktop/db-import/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/aribraun/Desktop/db-import/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar LRU = require('lru-cache');\nvar MAX_SIZE = 50 * 1024 * 1024; // 50MB\nvar MAX_AGE = 3 * 60 * 1000;\nvar MEMOIZED = new LRU({\n  max: MAX_SIZE,\n  maxAge: MAX_AGE,\n  length: function length(entry, key) {\n    return key.startsWith('key:') ? entry.data.length : entry.length;\n  }\n});\nmodule.exports.clearMemoized = clearMemoized;\nfunction clearMemoized() {\n  var old = {};\n  MEMOIZED.forEach(function (v, k) {\n    old[k] = v;\n  });\n  MEMOIZED.reset();\n  return old;\n}\nmodule.exports.put = put;\nfunction put(cache, entry, data, opts) {\n  pickMem(opts).set(\"key:\".concat(cache, \":\").concat(entry.key), {\n    entry: entry,\n    data: data\n  });\n  putDigest(cache, entry.integrity, data, opts);\n}\nmodule.exports.put.byDigest = putDigest;\nfunction putDigest(cache, integrity, data, opts) {\n  pickMem(opts).set(\"digest:\".concat(cache, \":\").concat(integrity), data);\n}\nmodule.exports.get = get;\nfunction get(cache, key, opts) {\n  return pickMem(opts).get(\"key:\".concat(cache, \":\").concat(key));\n}\nmodule.exports.get.byDigest = getDigest;\nfunction getDigest(cache, integrity, opts) {\n  return pickMem(opts).get(\"digest:\".concat(cache, \":\").concat(integrity));\n}\nvar ObjProxy = /*#__PURE__*/function () {\n  function ObjProxy(obj) {\n    _classCallCheck(this, ObjProxy);\n    this.obj = obj;\n  }\n  _createClass(ObjProxy, [{\n    key: \"get\",\n    value: function get(key) {\n      return this.obj[key];\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, val) {\n      this.obj[key] = val;\n    }\n  }]);\n  return ObjProxy;\n}();\nfunction pickMem(opts) {\n  if (!opts || !opts.memoize) return MEMOIZED;else if (opts.memoize.get && opts.memoize.set) return opts.memoize;else if (typeof opts.memoize === 'object') return new ObjProxy(opts.memoize);else return MEMOIZED;\n}","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","LRU","MAX_SIZE","MAX_AGE","MEMOIZED","max","maxAge","length","entry","key","startsWith","data","module","exports","clearMemoized","old","forEach","v","k","reset","put","cache","opts","pickMem","set","concat","putDigest","integrity","byDigest","get","getDigest","ObjProxy","obj","value","val","memoize"],"sources":["/Users/aribraun/Desktop/db-import/node_modules/cacache/lib/memoization.js"],"sourcesContent":["'use strict'\n\nconst LRU = require('lru-cache')\n\nconst MAX_SIZE = 50 * 1024 * 1024 // 50MB\nconst MAX_AGE = 3 * 60 * 1000\n\nconst MEMOIZED = new LRU({\n  max: MAX_SIZE,\n  maxAge: MAX_AGE,\n  length: (entry, key) => key.startsWith('key:') ? entry.data.length : entry.length,\n})\n\nmodule.exports.clearMemoized = clearMemoized\n\nfunction clearMemoized () {\n  const old = {}\n  MEMOIZED.forEach((v, k) => {\n    old[k] = v\n  })\n  MEMOIZED.reset()\n  return old\n}\n\nmodule.exports.put = put\n\nfunction put (cache, entry, data, opts) {\n  pickMem(opts).set(`key:${cache}:${entry.key}`, { entry, data })\n  putDigest(cache, entry.integrity, data, opts)\n}\n\nmodule.exports.put.byDigest = putDigest\n\nfunction putDigest (cache, integrity, data, opts) {\n  pickMem(opts).set(`digest:${cache}:${integrity}`, data)\n}\n\nmodule.exports.get = get\n\nfunction get (cache, key, opts) {\n  return pickMem(opts).get(`key:${cache}:${key}`)\n}\n\nmodule.exports.get.byDigest = getDigest\n\nfunction getDigest (cache, integrity, opts) {\n  return pickMem(opts).get(`digest:${cache}:${integrity}`)\n}\n\nclass ObjProxy {\n  constructor (obj) {\n    this.obj = obj\n  }\n\n  get (key) {\n    return this.obj[key]\n  }\n\n  set (key, val) {\n    this.obj[key] = val\n  }\n}\n\nfunction pickMem (opts) {\n  if (!opts || !opts.memoize)\n    return MEMOIZED\n  else if (opts.memoize.get && opts.memoize.set)\n    return opts.memoize\n  else if (typeof opts.memoize === 'object')\n    return new ObjProxy(opts.memoize)\n  else\n    return MEMOIZED\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}