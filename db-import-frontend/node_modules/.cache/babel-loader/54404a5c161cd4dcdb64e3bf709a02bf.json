{"ast":null,"code":"var _regeneratorRuntime = require(\"/Users/aribraun/Desktop/db-import/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"/Users/aribraun/Desktop/db-import/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar __defProp = Object.defineProperty;\nvar __markAsModule = function __markAsModule(target) {\n  return __defProp(target, \"__esModule\", {\n    value: true\n  });\n};\nvar __export = function __export(target, all) {\n  __markAsModule(target);\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\n__export(exports, {\n  withSqliteForeignKeysOff: function withSqliteForeignKeysOff() {\n    return _withSqliteForeignKeysOff;\n  }\n});\nfunction _withSqliteForeignKeysOff(_x, _x2, _x3) {\n  return _withSqliteForeignKeysOff2.apply(this, arguments);\n}\nfunction _withSqliteForeignKeysOff2() {\n  _withSqliteForeignKeysOff2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(sequelize, options, cb) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return sequelize.query(\"PRAGMA foreign_keys = OFF\", options);\n        case 3:\n          _context.next = 5;\n          return cb();\n        case 5:\n          return _context.abrupt(\"return\", _context.sent);\n        case 6:\n          _context.prev = 6;\n          _context.next = 9;\n          return sequelize.query(\"PRAGMA foreign_keys = ON\", options);\n        case 9:\n          return _context.finish(6);\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0,, 6, 10]]);\n  }));\n  return _withSqliteForeignKeysOff2.apply(this, arguments);\n}","map":{"version":3,"names":["__export","exports","withSqliteForeignKeysOff","_x","_x2","_x3","_withSqliteForeignKeysOff2","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","sequelize","options","cb","wrap","_callee$","_context","prev","next","query","abrupt","sent","finish","stop"],"sources":["../../../src/dialects/sqlite/sqlite-utils.ts"],"sourcesContent":["import type { Sequelize } from '../../sequelize.js';\nimport type { QueryOptions } from '../abstract/query-interface.js';\n\nexport async function withSqliteForeignKeysOff<T>(sequelize: Sequelize, options: QueryOptions, cb: () => Promise<T>): Promise<T> {\n  try {\n    await sequelize.query('PRAGMA foreign_keys = OFF', options);\n\n    return await cb();\n  } finally {\n    await sequelize.query('PRAGMA foreign_keys = ON', options);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;AAAAA,QAAA,CAAAC,OAAA;EAAAC,wBAAA,WAAAA,yBAAA;IAAA,OAAAA,yBAAA;EAAA;AAAA;AAAA,SAGAA,0BAAAC,EAAA,EAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,0BAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,2BAAA;EAAAA,0BAAA,GAAAG,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAkDC,SAAA,EAAsBC,OAAA,EAAuBC,EAAA;IAAA,OAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAErFP,SAAA,CAAUQ,KAAA,CAAM,6BAA6BP,OAAA;QAAA;UAAAI,QAAA,CAAAE,IAAA;UAAA,OAEtCL,EAAA;QAAA;UAAA,OAAAG,QAAA,CAAAI,MAAA,WAAAJ,QAAA,CAAAK,IAAA;QAAA;UAAAL,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAEPP,SAAA,CAAUQ,KAAA,CAAM,4BAA4BP,OAAA;QAAA;UAAA,OAAAI,QAAA,CAAAM,MAAA;QAAA;QAAA;UAAA,OAAAN,QAAA,CAAAO,IAAA;MAAA;IAAA,GAAAb,OAAA;EAAA;EAAA,OAAAN,0BAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"script"}